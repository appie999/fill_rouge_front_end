<app-vavbar></app-vavbar>
<div class="min-vh-100 d-flex align-items-center py-4" style="background: rgb(0, 138, 184);">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8 col-md-10">
        <div class="card shadow-lg border-0 rounded-4">
          <div class="row g-0 align-items-center">
            <div class="col-lg-6 p-4">
              <h1 class="fw-bold mb-1 fs-3">Créer un compte</h1>
              <p class="text-secondary mb-4 small">Inscrivez-vous en tant que nouveau patient</p>

              <!-- <form [formGroup]="form" (ngSubmit)="onSubmit()"> -->
                
                <!-- Nom complet -->
                <div class="mb-3">
    <label class="form-label">Nom</label>
    <input
      type="text"
      class="form-control form-control-sm"
      placeholder="Votre nom"
      formControlName="firstName" />
    <small class="text-danger" *ngIf="form.get('firstName')?.touched && form.get('firstName')?.hasError('required')">
      Nom requis
    </small>

    <label class="form-label">prenom</label>
    <input
      type="text"
      class="form-control form-control-sm"
      placeholder="Votre nom"
      formControlName="lastName" />
    <small class="text-danger" *ngIf="form.get('lastName')?.touched && form.get('lastName')?.hasError('required')">
      Nom requis
    </small>

    <label class="form-label">nom d'utilisateur'</label>
    <input
      type="text"
      class="form-control form-control-sm"
      placeholder="Votre nom"
      formControlName="userName" />
    <small class="text-danger" *ngIf="form.get('userName')?.touched && form.get('userName')?.hasError('required')">
      Nom requis
    </small>
  </div>
                <!-- Email -->
                <div class="mb-3">
                  <label class="form-label">E-mail</label>
                  <input 
                    type="email" 
                    formControlName="email" 
                    class="form-control form-control-sm" 
                    placeholder="Votre email" />
                  <small class="text-danger" *ngIf="form.get('email')?.touched && form.get('email')?.hasError('required')">
                    Email requis
                  </small>
                  <small class="text-danger" *ngIf="form.get('email')?.touched && form.get('email')?.hasError('email')">
                    Format invalide
                  </small>
                </div>

                <!-- Password -->
                <div class="mb-2">
                  <label class="form-label">Mot de passe</label>
                  <input 
                    type="password" 
                    formControlName="password" 
                    class="form-control form-control-sm" 
                    placeholder="************" />
                  <small class="text-danger" *ngIf="form.get('password')?.touched && form.get('password')?.hasError('required')">
                    Mot de passe requis
                  </small>
                </div>

                <!-- Submit -->
                <button type="submit" class="btn-register w-100 mt-3" [disabled]="form.invalid || loading">
                  {{ loading ? 'Création...' : 'S’inscrire' }}
                </button>

                <p *ngIf="error" class="text-danger mt-2">{{ error }}</p>
              <!-- </form> -->

              <p class="mt-3 text-muted small">
                Vous avez déjà un compte ?
                <a routerLink="/auth/login" class="text-primary text-decoration-none" style="cursor: pointer;">Connectez-vous ici</a>
              </p>
            </div>

            <!-- Image -->
            <div class="col-lg-6 text-center p-4">
              <img src="assets/doctora.jpg" alt="Médecin" class="img-fluid" style="max-width:350px;">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
